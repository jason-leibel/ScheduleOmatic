{"remainingRequest":"/Users/jason/Desktop/vue-google-oauth2-front-sample/node_modules/babel-loader/lib/index.js!/Users/jason/Desktop/vue-google-oauth2-front-sample/node_modules/vue-google-oauth2/index.js","dependencies":[{"path":"/Users/jason/Desktop/vue-google-oauth2-front-sample/node_modules/vue-google-oauth2/index.js","mtime":499162500000},{"path":"/Users/jason/Desktop/vue-google-oauth2-front-sample/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jason/Desktop/vue-google-oauth2-front-sample/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar googleAuth = function () {\n  function installClient() {\n    var apiUrl = 'https://apis.google.com/js/api.js';\n    return new Promise(function (resolve) {\n      var script = document.createElement('script');\n      script.src = apiUrl;\n\n      script.onreadystatechange = script.onload = function () {\n        if (!script.readyState || /loaded|complete/.test(script.readyState)) {\n          setTimeout(function () {\n            resolve();\n          }, 500);\n        }\n      };\n\n      document.getElementsByTagName('head')[0].appendChild(script);\n    });\n  }\n\n  function initClient(config) {\n    return new Promise(function (resolve, reject) {\n      window.gapi.load('auth2', function () {\n        window.gapi.auth2.init(config).then(function () {\n          resolve(window.gapi);\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    });\n  }\n\n  function Auth() {\n    var _this = this;\n\n    if (!(this instanceof Auth)) return new Auth();\n    this.GoogleAuth = null;\n    /* window.gapi.auth2.getAuthInstance() */\n\n    this.isAuthorized = false;\n    this.isInit = false;\n    this.prompt = null;\n\n    this.isLoaded = function () {\n      /* eslint-disable */\n      console.warn('isLoaded() will be deprecated. You can use \"this.$gAuth.isInit\"');\n      return !!this.GoogleAuth;\n    };\n\n    this.load = function (config, prompt) {\n      installClient().then(function () {\n        return initClient(config);\n      }).then(function (gapi) {\n        _this.GoogleAuth = gapi.auth2.getAuthInstance();\n        _this.isInit = true;\n        _this.prompt = prompt;\n        _this.isAuthorized = _this.GoogleAuth.isSignedIn.get();\n      }).catch(function (error) {\n        console.error(error);\n      });\n    };\n\n    this.signIn = function (successCallback, errorCallback) {\n      return new Promise(function (resolve, reject) {\n        if (!_this.GoogleAuth) {\n          if (typeof errorCallback === 'function') errorCallback(false);\n          reject(false);\n          return;\n        }\n\n        _this.GoogleAuth.signIn().then(function (googleUser) {\n          if (typeof successCallback === 'function') successCallback(googleUser);\n          _this.isAuthorized = _this.GoogleAuth.isSignedIn.get();\n          resolve(googleUser);\n        }).catch(function (error) {\n          if (typeof errorCallback === 'function') errorCallback(error);\n          reject(error);\n        });\n      });\n    };\n\n    this.getAuthCode = function (successCallback, errorCallback) {\n      return new Promise(function (resolve, reject) {\n        if (!_this.GoogleAuth) {\n          if (typeof errorCallback === 'function') errorCallback(false);\n          reject(false);\n          return;\n        }\n\n        _this.GoogleAuth.grantOfflineAccess({\n          prompt: _this.prompt\n        }).then(function (resp) {\n          if (typeof successCallback === 'function') successCallback(resp.code);\n          resolve(resp.code);\n        }).catch(function (error) {\n          if (typeof errorCallback === 'function') errorCallback(error);\n          reject(error);\n        });\n      });\n    };\n\n    this.signOut = function (successCallback, errorCallback) {\n      return new Promise(function (resolve, reject) {\n        if (!_this.GoogleAuth) {\n          if (typeof errorCallback === 'function') errorCallback(false);\n          reject(false);\n          return;\n        }\n\n        _this.GoogleAuth.signOut().then(function () {\n          if (typeof successCallback === 'function') successCallback();\n          _this.isAuthorized = false;\n          resolve(true);\n        }).catch(function (error) {\n          if (typeof errorCallback === 'function') errorCallback(error);\n          reject(error);\n        });\n      });\n    };\n  }\n\n  return new Auth();\n}();\n\nfunction installGoogleAuthPlugin(Vue, options) {\n  /* eslint-disable */\n  //set config\n  var GoogleAuthConfig = null;\n  var GoogleAuthDefaultConfig = {\n    scope: 'profile email'\n  };\n  var prompt = 'select_account';\n\n  if (_typeof(options) === 'object') {\n    GoogleAuthConfig = Object.assign(GoogleAuthDefaultConfig, options);\n    if (options.scope) GoogleAuthConfig.scope = options.scope;\n    if (options.prompt) prompt = options.prompt;\n\n    if (!options.clientId) {\n      console.warn('clientId is required');\n    }\n  } else {\n    console.warn('invalid option type. Object type accepted only');\n  } //Install Vue plugin\n\n\n  Vue.gAuth = googleAuth;\n  Object.defineProperties(Vue.prototype, {\n    $gAuth: {\n      get: function get() {\n        return Vue.gAuth;\n      }\n    }\n  });\n  Vue.gAuth.load(GoogleAuthConfig, prompt);\n}\n\nexport default installGoogleAuthPlugin;",{"version":3,"sources":["/Users/jason/Desktop/vue-google-oauth2-front-sample/node_modules/vue-google-oauth2/index.js"],"names":["googleAuth","installClient","apiUrl","Promise","resolve","script","document","createElement","src","onreadystatechange","onload","readyState","test","setTimeout","getElementsByTagName","appendChild","initClient","config","reject","window","gapi","load","auth2","init","then","catch","error","Auth","GoogleAuth","isAuthorized","isInit","prompt","isLoaded","console","warn","getAuthInstance","isSignedIn","get","signIn","successCallback","errorCallback","googleUser","getAuthCode","grantOfflineAccess","resp","code","signOut","installGoogleAuthPlugin","Vue","options","GoogleAuthConfig","GoogleAuthDefaultConfig","scope","Object","assign","clientId","gAuth","defineProperties","prototype","$gAuth"],"mappings":"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","sourcesContent":["\nvar googleAuth = (function () {\n\n  function installClient() {\n    var apiUrl = 'https://apis.google.com/js/api.js'\n    return new Promise((resolve) => {\n      var script = document.createElement('script')\n      script.src = apiUrl\n      script.onreadystatechange = script.onload = function () {\n        if (!script.readyState || /loaded|complete/.test(script.readyState)) {\n          setTimeout(function () {\n            resolve()\n          }, 500)\n        }\n      }\n      document.getElementsByTagName('head')[0].appendChild(script)\n    })\n  }\n\n  function initClient(config) {\n    return new Promise((resolve, reject) => {\n      window.gapi.load('auth2', () => {\n        window.gapi.auth2.init(config)\n          .then(() => {\n            resolve(window.gapi)\n          }).catch((error) => {\n            reject(error)\n          })\n      })\n    })\n\n  }\n\n  function Auth() {\n    if (!(this instanceof Auth))\n      return new Auth()\n    this.GoogleAuth = null /* window.gapi.auth2.getAuthInstance() */\n    this.isAuthorized = false\n    this.isInit = false\n    this.prompt = null\n    this.isLoaded = function () {\n      /* eslint-disable */\n      console.warn('isLoaded() will be deprecated. You can use \"this.$gAuth.isInit\"')\n      return !!this.GoogleAuth\n    };\n\n    this.load = (config, prompt) => {\n      installClient()\n        .then(() => {\n          return initClient(config)\n        })\n        .then((gapi) => {\n          this.GoogleAuth = gapi.auth2.getAuthInstance()\n          this.isInit = true\n          this.prompt = prompt\n          this.isAuthorized = this.GoogleAuth.isSignedIn.get()\n        }).catch((error) => {\n          console.error(error)\n        })\n    };\n\n    this.signIn = (successCallback, errorCallback) => {\n      return new Promise((resolve, reject) => {\n        if (!this.GoogleAuth) {\n          if (typeof errorCallback === 'function') errorCallback(false)\n          reject(false)\n          return\n        }\n        this.GoogleAuth.signIn()\n          .then(googleUser => {\n            if (typeof successCallback === 'function') successCallback(googleUser)\n            this.isAuthorized = this.GoogleAuth.isSignedIn.get()\n            resolve(googleUser)\n          })\n          .catch(error => {\n            if (typeof errorCallback === 'function') errorCallback(error)\n            reject(error)\n          })\n      })\n    };\n\n    this.getAuthCode = (successCallback, errorCallback) => {\n      return new Promise((resolve, reject) => {\n        if (!this.GoogleAuth) {\n          if (typeof errorCallback === 'function') errorCallback(false)\n          reject(false)\n          return\n        }\n        this.GoogleAuth.grantOfflineAccess({ prompt: this.prompt })\n          .then(function (resp) {\n            if (typeof successCallback === 'function') successCallback(resp.code)\n            resolve(resp.code)\n          })\n          .catch(function (error) {\n            if (typeof errorCallback === 'function') errorCallback(error)\n            reject(error)\n          })\n      })\n    };\n\n    this.signOut = (successCallback, errorCallback) => {\n      return new Promise((resolve, reject) => {\n        if (!this.GoogleAuth) {\n          if (typeof errorCallback === 'function') errorCallback(false)\n          reject(false)\n          return\n        }\n        this.GoogleAuth.signOut()\n          .then(() => {\n            if (typeof successCallback === 'function') successCallback()\n            this.isAuthorized = false\n            resolve(true)\n          })\n          .catch(error => {\n            if (typeof errorCallback === 'function') errorCallback(error)\n            reject(error)\n          })\n      })\n    };\n  }\n\n  return new Auth()\n})();\n\n\n\n\nfunction installGoogleAuthPlugin(Vue, options) {\n  /* eslint-disable */\n  //set config\n  let GoogleAuthConfig = null\n  let GoogleAuthDefaultConfig = { scope: 'profile email' }\n  let prompt = 'select_account'\n  if (typeof options === 'object') {\n    GoogleAuthConfig = Object.assign(GoogleAuthDefaultConfig, options)\n    if (options.scope) GoogleAuthConfig.scope = options.scope\n    if (options.prompt) prompt = options.prompt\n    if (!options.clientId) {\n      console.warn('clientId is required')\n    }\n  } else {\n    console.warn('invalid option type. Object type accepted only')\n  }\n\n  //Install Vue plugin\n  Vue.gAuth = googleAuth\n  Object.defineProperties(Vue.prototype, {\n    $gAuth: {\n      get: function () {\n        return Vue.gAuth\n      }\n    }\n  })\n  Vue.gAuth.load(GoogleAuthConfig, prompt)\n}\n\nexport default installGoogleAuthPlugin\n"]}]}